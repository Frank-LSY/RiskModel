<a name="XvQ26"></a>
### 目标：12种癌症及5种常见慢性病风险评估及定制化建议。
参照 [https://siteman.wustl.edu/prevention/ydr/](https://siteman.wustl.edu/prevention/ydr/)<br />12种恶性肿瘤：

| 膀胱癌 (Bladder) | 乳腺癌 (Breast) | 宫颈癌 (Cervical) | 大肠癌 (Colon) |
| --- | --- | --- | --- |
| 肾癌 (Kidney) | **肺癌 (Lung)** | 黑色素瘤 (Melanoma) | 卵巢癌 (Ovarian) |
| 胰腺癌 (Pancreatic) | 前列腺癌 (Prostate) | 胃癌 (Stomach) | 子宫癌 (Uterine) |

5种慢性病：

| 支气管炎/肺气肿 (COPD) | 糖尿病 (Diabetes) | **心血管疾病 (Heart Disease)** |
| --- | --- | --- |
| 骨质疏松 (Osteoporosis) | 中风 (Stroke) | <br /> |

- 红色为已完成项
<a name="N5JUL"></a>
### 肺癌

- 基于文章：[https://www.nature.com/articles/srep36482](https://www.nature.com/articles/srep36482)

![image.png](https://cdn.nlark.com/yuque/0/2024/png/26886501/1719112300177-9070c832-1458-4db9-b1cf-631efd3eb246.png#averageHue=%23d3d1cf&clientId=ubf89246c-05ec-4&from=paste&height=48&id=ucc903dd1&originHeight=114&originWidth=1036&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=26287&status=done&style=none&taskId=ud9024e62-6536-4fd4-a152-3f84f3809a2&title=&width=438.66668701171875)

- 判断逻辑：依照指标打分，总得分对应肺癌概率

![](https://cdn.nlark.com/yuque/0/2024/png/26886501/1719112499119-7b0f0536-7324-4600-8842-91c0542a431b.png#averageHue=%23f9f8f7&clientId=ubf89246c-05ec-4&from=paste&id=u5b7f3421&originHeight=725&originWidth=583&originalType=url&ratio=1.5&rotation=0&showTitle=false&status=done&style=none&taskId=u659a261a-e5db-4a4f-8413-89756f4041a&title=)<br />![](https://cdn.nlark.com/yuque/0/2024/png/26886501/1719112552790-7456a4d4-2543-4afa-81b4-945e34fdbcf2.png#averageHue=%23f9f8f8&clientId=ubf89246c-05ec-4&from=paste&height=326&id=u708800e1&originHeight=890&originWidth=1578&originalType=url&ratio=1.5&rotation=0&showTitle=false&status=done&style=none&taskId=ub037c11e-aaca-4406-bd76-939254ad54c&title=&width=578)
<a name="qPxcP"></a>
### 心血管健康

- 评分基于life essential 8，即生命健康8要素。

![image.png](https://cdn.nlark.com/yuque/0/2024/png/26886501/1719112868354-c5542b0a-a0dd-4ff1-b3c2-dadb13a8e1b6.png#averageHue=%23ced47e&clientId=ub064c67b-928b-4&from=paste&height=734&id=u33cc9869&originHeight=1159&originWidth=898&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=376674&status=done&style=none&taskId=u4d6c49dc-b5b0-47d8-9a94-0256e5eecc7&title=&width=568.6666870117188)

- 相关链接:
   - 论文：[https://www.ahajournals.org/doi/10.1161/CIR.0000000000001078](https://www.ahajournals.org/doi/10.1161/CIR.0000000000001078)
   - 原始网站：[https://www.heart.org/en/healthy-living/healthy-lifestyle/lifes-essential-8](https://www.heart.org/en/healthy-living/healthy-lifestyle/lifes-essential-8)
   - 中文：[https://m.medsci.cn/scale/show.do?id=e1ab3e481d](https://m.medsci.cn/scale/show.do?id=e1ab3e481d)
- 评分分为8个方面：
   - 饮食 -- DASH 评分
   - 运动 -- 每周运动/分钟
   - 吸烟 -- 尼古丁暴露
   - 睡眠 -- 每天/小时
   - BMI -- BMI
   - 血糖 -- 是否药物控制
   - 血脂 -- 是否药物控制
   - 血压 -- 是否药物控制
- 各分项满分100分，最后心血管评分为取平均。
<a name="EysKl"></a>
### 肝癌 

- 基于文章：[https://academic.oup.com/jnci/article/104/20/1599/971474](https://academic.oup.com/jnci/article/104/20/1599/971474)
- 四类数据：
| Demographics | Life Style | History | Examination |
| --- | --- | --- | --- |
| 性别 | 吸烟 | 糖尿病 | AST、ALT |
| 年龄 | 饮酒 |  | HBV |
|  | 锻炼 |  | HCV |

![](https://cdn.nlark.com/yuque/0/2024/jpeg/26886501/1705825031430-1d89c771-c53a-4eda-9a15-b6b511925e03.jpeg)

- 判断逻辑：依照指标打分，总得分对应肝癌概率，有4种模型

![image.png](https://cdn.nlark.com/yuque/0/2024/png/26886501/1719114826281-d98fe695-22b9-4125-b4e7-bf38e9af95d3.png#averageHue=%23f9f8f8&clientId=ufc9e222c-ad36-4&from=paste&height=730&id=ua3c1fa8f&originHeight=1095&originWidth=856&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=51524&status=done&style=none&taskId=u52679716-45f6-496e-bf8e-4d15c7e3f4c&title=&width=570.6666666666666)<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/26886501/1719114888198-3d5c2bae-bd63-4727-95e6-5d08c9f2f906.png#averageHue=%23f8f4f3&clientId=ufc9e222c-ad36-4&from=paste&height=418&id=uaf3b430a&originHeight=694&originWidth=954&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=162099&status=done&style=none&taskId=u4c576195-e63f-499f-acc4-94afe623a70&title=&width=574)<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/26886501/1719114909376-3d48f593-bb8e-4d09-9861-53a16ec5db35.png#averageHue=%23f8f4f3&clientId=ufc9e222c-ad36-4&from=paste&height=593&id=u451b3911&originHeight=946&originWidth=904&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=135270&status=done&style=none&taskId=uf04f76dc-f14c-4ec4-99b6-3916b2e4405&title=&width=566.6666870117188)
<a name="gqutZ"></a>
### 代码实现

- 代码位置：[https://github.com/Frank-LSY/RiskModel](https://github.com/Frank-LSY/RiskModel)

![image.png](https://cdn.nlark.com/yuque/0/2024/png/26886501/1719143726184-66e1f04b-f96c-432f-946a-cbd9c6fb48b9.png#averageHue=%23fefdfd&clientId=ucb9e6447-3ba5-4&from=paste&height=163&id=u5951becb&originHeight=244&originWidth=313&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=7955&status=done&style=none&taskId=u4b7a01bb-c9bb-4ef3-9055-d00e1460125&title=&width=208.66666666666666)

- 其中：
   - backend 为后端代码，采用Flask框架
   - 运行
      - anaconda 创建环境 ydr `conda create -n ydr`
      - `conda activate ydr`
      - `cd backend`
      - `pip install -r requirement.txt`
      - `cd code`
      - `python run.py`
      - 即可运行后端，端口号为5000
   - data // data_sep 中为一些假数据
   - database 为数据库文件
      - ydr.sql 为直接导出的sql
      - 其余ydr_*.csv 为导出的各CSV表格
   - resources 为资源文件夹
   - riskmodel为前端代码，采用Vue框架
      - css排版采用tailwindCSS
      - 运行
         - 首先安装必要包`npm install`
         - `npm run dev`
         - 应用即会运行在 `http://localhost:8088` 端口上，可通过浏览器打开查看。
<a name="cE2QJ"></a>
### 文件结构

- 后端
   - config.py 为数据库配置文件
   - app/model.py 为数据库表结构
   - app/view.py 为API接口
   - app/calculator/card.py 为 心血管评分的计算器逻辑
- 前端
   - src/charts 中为图表组件
   - src/components 为实义页面组件
      - Cardiovascular.vue 为心血管页面
      - Check.vue 为用户输入信息页面
      - History.vue 为用户历史信息页面
      - EightDetail.vue 为心血管说明页面
   - src/api.js 为 api接口
   - src/router.js 为路由跳转文件
   - src/store.js 为全局存储变量文件
   - src/Structure.vue 为页面结构布局文件
